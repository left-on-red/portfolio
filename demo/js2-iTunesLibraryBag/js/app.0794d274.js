(function(t){function e(e){for(var n,s,c=e[0],o=e[1],u=e[2],m=0,p=[];m<c.length;m++)s=c[m],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);l&&l(e);while(p.length)p.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,c=1;c<r.length;c++){var o=r[c];0!==a[o]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=r[0]))}return t}var n={},a={app:0},i=[];function s(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=n,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(r,n,function(e){return t[e]}.bind(null,n));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=o;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("nav",{staticClass:"navbar bg-dark text-light"},[t._m(0),r("form",{staticClass:"form-inline my-2 my-lg-0",on:{submit:function(e){return e.preventDefault(),t.search(e)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"form-control mr-sm-2",attrs:{type:"search",placeholder:"Search","aria-label":"Search"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),r("button",{staticClass:"btn btn-outline-success my-2 my-sm-0",attrs:{type:"submit"}},[t._v("Search")])])]),r("div",{staticClass:"container-fluid mt-3"},[r("Library",{attrs:{library:t.library},on:{bag:t.bagItem,unbag:t.unbagItem}})],1),r("div",{staticClass:"container-fluid mt-3"},[r("Bag",{attrs:{bag:t.bag}})],1)])},i=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("span",{staticClass:"navbar-brand"},[r("i",{staticClass:"fas fa-shopping-bag mx-2"}),t._v(" CHECK IT OUT!")])}],s=(r("498a"),r("1da1")),c=r("d4ec"),o=r("bee2"),u=(r("96cf"),r("99af"),r("4d90"),r("d3b7"),r("25f0"),r("a434"),r("b0c0"),r("a15b"),r("4de4"),r("1157")),l=r.n(u);function m(t){var e=t%1e3;t=(t-e)/1e3;var r=t%60;t=(t-r)/60;var n=t%60,a=(t-n)/60;return"".concat(a.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"))}function p(t){return new Promise((function(e,r){l.a.ajax({url:t,dataType:"jsonp",success:e,error:r})}))}var b=function(){function t(){Object(c["a"])(this,t),this.items=[]}return Object(o["a"])(t,[{key:"populate",value:function(t,e){var r=this;this.items.splice(0,this.items.length);for(var n=function(n){var a=void 0;t[n].kind?a="feature-movie"==t[n].kind?"Movie":"Book":t[n].collectionType?a="Album":t[n].wrapperType&&(a="Book");var i={type:a};"Book"==a?(i.name=t[n].trackName,i.author=t[n].artistName,t[n].genres?i.genre=t[n].genres.join(", "):i.genre=t[n].primaryGenreName,i.price=t[n].price,i.image=t[n].artworkUrl100,i.url=t[n].trackViewUrl,i.id=t[n].trackId):"Album"==a?(i.name=t[n].collectionName,i.artist=t[n].artistName,i.tracks=t[n].trackCount,i.price=t[n].collectionPrice,i.image=t[n].artworkUrl100,i.url=t[n].collectionViewUrl,i.id=t[n].collectionId):"Movie"==a&&(i.name=t[n].trackName,i.director=t[n].artistName,i.runtime=m(t[n].trackTimeMillis),i.price=t[n].collectionPrice,i.image=t[n].artworkUrl100,i.url=t[n].collectionViewUrl,i.id=t[n].collectionId),i.isBagged=function(){return e.items.filter((function(t){return t.id==i.id})).length>0},r.items.push(i)},a=0;a<t.length;a++)n(a)}},{key:"query",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=this,t.next=4,p("https://itunes.apple.com/search?term=".concat(encodeURI(e),"&limit=20&entity=movie,album,audiobook,ebook"));case 4:t.t1=t.sent.results,t.t2=r,t.t0.populate.call(t.t0,t.t1,t.t2),t.next=12;break;case 9:t.prev=9,t.t3=t["catch"](0),console.error(t.t3);case 12:case"end":return t.stop()}}),t,this,[[0,9]])})));function e(e,r){return t.apply(this,arguments)}return e}()}]),t}(),f=function(){function t(){Object(c["a"])(this,t),this.items=[]}return Object(o["a"])(t,[{key:"add",value:function(t){this.items.push(t),t.bagged=!0}},{key:"remove",value:function(t){for(var e=-1,r=t.id,n=0;n<this.items.length;n++)if(this.items[n].id==r){e=n;break}e>=0&&(this.items.splice(e,1),t.bagged=!1)}},{key:"checkOut",value:function(){this.items.splice(0,this.items.length)}}]),t}(),d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card-columns"},t._l(t.library.items,(function(e,n){return r("LibraryItem",{key:n,attrs:{item:e},on:{bag:t.bag,unbag:t.unbag}})})),1)},h=[],g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card border-success"},[r("img",{staticClass:"card-img-top",staticStyle:{height:"10rem",width:"auto",float:"right"},attrs:{src:t.item.image}}),r("h5",{staticClass:"card-title",staticStyle:{margin:"10px"}},[r("a",{attrs:{href:t.item.url,target:"_blank"}},[t._v(t._s(t.item.name))])]),r(t.typeOfItem,{tag:"component",staticClass:"card-body",attrs:{item:t.item}}),r("div",[r("p",{staticClass:"card-text"},[t._v("Price: "+t._s(t.item.price>0?"$"+t.item.price:"Free"))])]),r("div",{staticClass:"card-footer"},[t.item.isBagged()?r("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.unbag()}}},[t._v("Unbag")]):r("button",{staticClass:"btn btn-success",on:{click:function(e){return t.bag()}}},[t._v("Bag")])])],1)},v=[],y=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("p",{staticClass:"card-text"},[t._v("Author: "+t._s(t.item.author))]),r("p",{staticClass:"card-text"},[t._v("Genre: "+t._s(t.item.genre))])])},_=[],k=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div")},x=[],O={name:"Media",props:{item:{type:Object,required:!0}}},C=O,j=r("2877"),w=Object(j["a"])(C,k,x,!1,null,null,null),$=w.exports,q={name:"Book",extends:$},I=q,S=Object(j["a"])(I,y,_,!1,null,null,null),P=S.exports,B=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("p",{staticClass:"card-text"},[t._v("Director: "+t._s(t.item.director))]),r("p",{staticClass:"card-text"},[t._v("Runtime: "+t._s(t.item.runtime))])])},E=[],M={name:"Movie",extends:$},T=M,N=Object(j["a"])(T,B,E,!1,null,"47355990",null),U=N.exports,A=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("p",{staticClass:"card-text"},[t._v("Artist: "+t._s(t.item.artist))]),r("p",{staticClass:"card-text"},[t._v("Number of Tracks: "+t._s(t.item.tracks))])])},L=[],R={name:"Album",extends:$},V=R,D=Object(j["a"])(V,A,L,!1,null,"5ca7e1a4",null),F=D.exports,G={name:"LibraryItem",components:{Book:P,Movie:U,Album:F},props:{item:{type:Object,required:!0}},methods:{bag:function(){this.$emit("bag",this.item)},unbag:function(){this.$emit("unbag",this.item)}},computed:{typeOfItem:function(){return this.item.type}}},J=G,H=(r("b3d0"),Object(j["a"])(J,g,v,!1,null,"0043dfdc",null)),K=H.exports,z={name:"Library",components:{LibraryItem:K},props:{library:{type:Object,required:!0}},methods:{bag:function(t){this.$emit("bag",t)},unbag:function(t){this.$emit("unbag",t)}}},Q=z,W=Object(j["a"])(Q,d,h,!1,null,"2f7f58f4",null),X=W.exports,Y=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("ul",{staticClass:"list-group"},t._l(t.bag.items,(function(e,n){return r("li",{key:n,staticClass:"list-group-item"},[t._v(t._s(e.name)+" "),r("button",{staticClass:"btn btn-danger",on:{click:function(r){return t.bag.remove(e)}}},[t._v("Remove")])])})),0),t.bag.items.length>0?r("button",{staticClass:"btn btn-success",on:{click:t.checkout}},[t._v("Checkout ($"+t._s(t.total)+")")]):t._e()])},Z=[],tt=(r("b680"),{name:"Bag",props:{bag:{type:Object,required:!0}},computed:{total:function(){for(var t=0,e=0;e<this.bag.items.length;e++)this.bag.items[e].price>0&&(t+=this.bag.items[e].price);return t.toFixed(2)}},methods:{checkout:function(){this.bag.checkOut()}}}),et=tt,rt=Object(j["a"])(et,Y,Z,!1,null,"99c48e80",null),nt=rt.exports,at={name:"App",data:function(){return{library:new b,bag:new f,query:""}},components:{Library:X,Bag:nt},methods:{bagItem:function(t){this.bag.add(t)},unbagItem:function(t){this.bag.remove(t)},search:function(){this.query.trim(),this.query.length>0&&(this.library.query(this.query,this.bag),this.query="")}}},it=at,st=Object(j["a"])(it,a,i,!1,null,null,null),ct=st.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(ct)}}).$mount("#app")},"862f":function(t,e,r){},b3d0:function(t,e,r){"use strict";r("862f")}});
//# sourceMappingURL=app.0794d274.js.map